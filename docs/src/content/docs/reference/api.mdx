---
title: Public API
---

import { Card } from '@astrojs/starlight/components';

## Spectrum
```python
class Spectrum:
```
NMR spectrum.

The recommended way of creating Spectrum instances from spectrum files
is by using the `Spectrum.load()` function. This automatically determines
the format of the spectrum and selects the correct SpectrumReader.

Example usage:
```python
spectrum = Spectrum.load('./spectrum_file.ucsf')
```
#### ndim
```python
ndim: 'int'
```
Number of dimensions of the spectrum.
#### nuclei
```python
nuclei: 'tuple[NMRNucleus, ...]'
```
The type of nucleus (13C, 1H, etc.) associated with each axis.
#### data_source
```python
data_source: 'SpectrumDataSource'
```
Object responsible for lazy-loading and parsing spectrum data.
#### transform
```python
transform: 'SpectrumTransform'
```
Object storing the transformation from array coordinate space to chemical shift space.
#### experiment
```python
experiment: 'NMRExperiment'
```
Enum value for the type of NMR experiment the spectrum is from (e.g., HSQC, HNCACB)
#### shape
```python
shape: 'NDArray'
```
Returns:
Shape of the underlying data array.
#### array
```python
array: 'NDArray'
```

#### load
```python
@classmethod
def load(cls, path: 'str | PathLike') -> 'Spectrum':
```
Create a spectrum from a path to a spectrum file.
Automatically determines the file format and dispatches the correct spectrum reader.


###### Arguments:
 - **path:**  Path to the spectrum file.



###### Returns:
> Spectrum object

#### slice
```python
def slice(self, axis: 'int', z: 'float'):
```
Take a slice from the spectrum along the specified axis.


###### Arguments:
 - **axis:**  The index of the axis perpendicular to the slice plane.
 - **z:**  The chemical shift of the plane along the specified axis.



###### Returns:
> A new spectrum, with one fewer dimension.

#### project
```python
def project(self, axis: 'int'):
```

#### blur
```python
def blur(self, sigma: 'tuple[float]'):
```

#### threshold
```python
def threshold(self, level: 'float'):
```

#### normalize
```python
def normalize(self):
```

## SpectrumTransform
```python
class SpectrumTransform:
```
Represents a diagonal affine transformation used to map between
coordinates in the raw spectrum array and chemical shift values.
#### ndim
```python
ndim: 'int'
```
Number of dimensions in the spectrum.
#### shape
```python
shape: 'NDArray'
```
Shape of the underlying data array.
#### bounds
```python
bounds: 'NDArray'
```
Bounds of the spectrum (in array grid coordinates).
#### scaling
```python
scaling: 'NDArray'
```
Vector of diagonal components of the affine transformation matrix. 
Components are scaling values along each axis.
#### offset
```python
offset: 'NDArray'
```
Constant offset vector for the affine transformation.
#### inverse_scaling
```python
inverse_scaling: 'NDArray'
```
Vector containing the diagonal entries of the affine transformation matrix for
the inverse transform. Used to convert from chemical shifts to grid coords.
#### inverse_offset
```python
inverse_offset: 'NDArray'
```
Vector offset for the inverse transform.
Used to convert from chemical shifts to grid coords.
#### grid_to_shift
```python
def grid_to_shift(self, x: 'NDArray') -> 'NDArray':
```
Convert a grid coord to a chemical shift.


###### Arguments:
 - **x:**  Array containing grid coordinates of points in the spectrum.
   Must be broadcastable to (ndim,).



###### Returns:
> Array of corresponding chemical shift values

#### shift_to_grid
```python
def shift_to_grid(self, x) -> 'NDArray':
```
Convert a grid coord to a chemical shift.

###### Arguments:
 - **x:**  Array containing chemical shift coordinates. Must be broadcastable to (ndim,).



###### Returns:
> Array of corresponding grid coordinates.

#### from_reference
```python
@classmethod
def from_reference(
    cls,
    shape: 'NDArray',
    spectral_width: 'NDArray',
    spectrometer_frequency: 'NDArray',
    ref_coord: 'NDArray',
    ref_shift: 'NDArray'
) -> 'SpectrumTransform':
```
Create a SpectrumTransform from spectrum referencing information.
All arguments must be NDArrays with shape `(ndim,)`


###### Arguments:
 - **shape :**  Number of data points along each axis of the spectrum.
 - **spectral_width:**  Difference in chemical shift across the width of the spectrum along each axis,
   measured in Hz.
 - **spectrometer_frequency:**  Frequency of spectrometer along each axis, measured in MHz.
   Required to convert spectral width into ppm.
 - **ref_coord:**  Grid coordinates of a reference point in the spectrum.
 - **ref_shift:**  Chemical shift vector of the point located at the reference coordinate.



###### Returns:
> `SpectrumTransform` object with scaling and offset vectors calculated
> from the reference data.

#### slice
```python
def slice(self, axis: 'int') -> 'SpectrumTransform':
```

## NMRExperiment
```python
class NMRExperiment(enum.Enum):
```

#### NHSQC
```python
NHSQC = <NMRExperiment.NHSQC: 'NHSQC'>
```

#### HNCO
```python
HNCO = <NMRExperiment.HNCO: 'HNCO'>
```

#### HNCACB
```python
HNCACB = <NMRExperiment.HNCACB: 'HNCACB'>
```

#### HNCA
```python
HNCA = <NMRExperiment.HNCA: 'HNCA'>
```

#### HNCOCACB
```python
HNCOCACB = <NMRExperiment.HNCOCACB: 'HN(CO)CACB'>
```

## NMRNucleus
```python
class NMRNucleus(enum.Enum):
```

#### H1
```python
H1 = <NMRNucleus.H1: '1H'>
```

#### N15
```python
N15 = <NMRNucleus.N15: '15N'>
```

#### C13
```python
C13 = <NMRNucleus.C13: '13C'>
```

## load_spectrum
```python
def load_spectrum(path: str | os.PathLike) -> bioshift.spectra.spectrum.Spectrum:
```

